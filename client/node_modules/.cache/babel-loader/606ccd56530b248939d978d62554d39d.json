{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import{useState}from'react';import\"./ParentHomePage.css\";import{useHistory}from\"react-router-dom\";import'bootstrap/dist/css/bootstrap.min.css';import{Button,Container,Navbar,Nav}from'react-bootstrap';var accompanyingPersonInfo={firstName:\"\",lastName:\"\",phoneNum:\"\",email:\"\",gender:\"\"};function ParentHomePage(){var myParentID=localStorage.getItem(\"userID\");// const [accompanyingPersonData, setAccompanyingPersonData] = useState([]);\nfunction handleWhatsapp(){fetch('/api/childrenCards/getAccompanyingPersonPhone',{method:'POST',body:JSON.stringify({userID:localStorage.getItem(\"userID\")}),headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){if(data!=null){// setAccompanyingPersonData(data.info[0]);\naccompanyingPersonInfo.phoneNum=data.info[0].phoneNum;window.open(\"https://api.whatsapp.com/send?phone=+972\"+accompanyingPersonInfo.phoneNum+\"&text=&source=&data=\");}else{alert(\"couldn't get vehicle company manager phone number\");// setAccompanyingPersonData([]);\n}});}var history=useHistory();function handleChildCardBtn(){history.replace(\"/MyChildCardInfo\");}function handleChildAttendance(){history.replace(\"/ChildAttendance\");}function handleHomeBtn(){history.replace(\"/ParentHomePage\");}function handleSettings(){history.replace(\"/SettingsPage\");}function handleLogOut(){var userID=myParentID;//fetch to logout user \nfetch('/api/users/logout',{method:\"POST\",body:JSON.stringify({userID:userID}),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(data){if(data.success){localStorage.clear();history.replace('/LogIn');}else{alert(\"can't log out\");}});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{style:{border:\"solid #ffa500\",borderColor:\"#ffa500\",textAlign:\"center\",background:\"url('\".concat(process.env.PUBLIC_URL,\"/l.png')\")},children:[/*#__PURE__*/_jsx(Navbar,{className:\"mb-3\",\"aria-label\":\"Toolbar with Button groups\",children:/*#__PURE__*/_jsxs(Nav,{className:\"mr-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"#home\",onClick:handleHomeBtn,children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"#Settings\",onClick:handleSettings,children:\"Settings\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"#LogOut\",onClick:handleLogOut,children:\"Log Out\"})]})}),/*#__PURE__*/_jsx(\"h1\",{style:{fontWeight:\"bold\",color:\"#ffa500\",fontSize:\"40px\",fontFamily:\"Times New Roman\"},children:\"Welcome Parent\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",size:\"lg\",type:\"button\",onClick:handleChildCardBtn,children:\"Child Card\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",size:\"lg\",type:\"button\",onClick:handleChildAttendance,children:\"Child Attendance/Absence\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",size:\"lg\",type:\"button\",children:\"Track Vehicle\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",size:\"lg\",type:\"button\",onClick:handleWhatsapp,children:\"Contact Accompanying Person\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})});}export default ParentHomePage;","map":{"version":3,"sources":["C:/Users/User/git/testGit/projectCT/client/src/view/components/pages/ParentHomePage/ParentHomePage.jsx"],"names":["React","useState","useHistory","Button","Container","Navbar","Nav","accompanyingPersonInfo","firstName","lastName","phoneNum","email","gender","ParentHomePage","myParentID","localStorage","getItem","handleWhatsapp","fetch","method","body","JSON","stringify","userID","headers","then","res","json","data","info","window","open","alert","history","handleChildCardBtn","replace","handleChildAttendance","handleHomeBtn","handleSettings","handleLogOut","success","clear","border","borderColor","textAlign","background","process","env","PUBLIC_URL","fontWeight","color","fontSize","fontFamily"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState} from 'react';\r\nimport \"./ParentHomePage.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Button, Container,Navbar,Nav} from 'react-bootstrap';\r\nlet accompanyingPersonInfo = {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    phoneNum: \"\",\r\n    email: \"\",\r\n    gender: \"\",\r\n}\r\nfunction ParentHomePage() {\r\n    let myParentID = localStorage.getItem(\"userID\");\r\n\r\n    // const [accompanyingPersonData, setAccompanyingPersonData] = useState([]);\r\n    function handleWhatsapp() {\r\n\r\n        fetch('/api/childrenCards/getAccompanyingPersonPhone', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ userID: localStorage.getItem(\"userID\") }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data != null) {\r\n\r\n                    // setAccompanyingPersonData(data.info[0]);\r\n                    accompanyingPersonInfo.phoneNum = data.info[0].phoneNum;\r\n                    window.open(\"https://api.whatsapp.com/send?phone=+972\" + accompanyingPersonInfo.phoneNum + \"&text=&source=&data=\");\r\n                } else {\r\n                    alert(\"couldn't get vehicle company manager phone number\");\r\n                    // setAccompanyingPersonData([]);\r\n                }\r\n\r\n\r\n            })\r\n    }\r\n\r\n\r\n    let history = useHistory();\r\n\r\n    function handleChildCardBtn() {\r\n        history.replace(\"/MyChildCardInfo\");\r\n    }\r\n\r\n    function handleChildAttendance() {\r\n        history.replace(\"/ChildAttendance\");\r\n    }\r\n\r\n    function handleHomeBtn() {\r\n        history.replace(\"/ParentHomePage\");\r\n    }\r\n\r\n    function handleSettings(){\r\n        history.replace(\"/SettingsPage\");\r\n        \r\n    }\r\n\r\n    function handleLogOut() {\r\n     \r\n        const userID = myParentID;\r\n      \r\n        //fetch to logout user \r\n        fetch('/api/users/logout', {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ userID }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                if (data.success) {\r\n                    localStorage.clear();\r\n                    history.replace('/LogIn');\r\n                }\r\n                else {\r\n      \r\n                    alert(\"can't log out\");\r\n                }\r\n            });\r\n      }\r\n\r\n    return (\r\n        <div >\r\n            <Container style={{ border: \"solid #ffa500\", borderColor: \"#ffa500\", textAlign: \"center\", background: `url('${process.env.PUBLIC_URL}/l.png')` }}>\r\n                <Navbar className=\"mb-3\" aria-label=\"Toolbar with Button groups\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"#home\" onClick={handleHomeBtn}>Home</Nav.Link>\r\n                        <Nav.Link href=\"#Settings\" onClick={handleSettings}>Settings</Nav.Link>\r\n                        <Nav.Link href=\"#LogOut\" onClick={handleLogOut}>Log Out</Nav.Link>\r\n                    </Nav>\r\n                </Navbar>\r\n                <h1 style={{ fontWeight: \"bold\", color: \"#ffa500\", fontSize: \"40px\", fontFamily: \"Times New Roman\" }}>Welcome Parent</h1><br></br>\r\n\r\n                <Button variant=\"dark\" size=\"lg\" type=\"button\" onClick={handleChildCardBtn}>Child Card</Button>\r\n                <br></br>\r\n                <br></br>\r\n                <Button variant=\"dark\" size=\"lg\" type=\"button\" onClick={handleChildAttendance}>Child Attendance/Absence</Button>\r\n                <br></br>\r\n                <br></br>\r\n                <Button variant=\"dark\" size=\"lg\" type=\"button\"  >Track Vehicle</Button>\r\n                <br></br>\r\n                <br></br>\r\n                <Button variant=\"dark\" size=\"lg\" type=\"button\" onClick={handleWhatsapp}>Contact Accompanying Person</Button>\r\n\r\n                <br></br>\r\n                <br></br>\r\n            </Container>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default ParentHomePage;"]},"metadata":{},"sourceType":"module"}