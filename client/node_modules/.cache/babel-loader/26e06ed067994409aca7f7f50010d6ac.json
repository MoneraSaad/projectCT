{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import{useState}from'react';import\"./LogIn.css\";import'bootstrap/dist/css/bootstrap.min.css';import{Button,Form,Container}from'react-bootstrap';import{useHistory}from\"react-router-dom\";function LogIn(){var history=useHistory();function handleLogInBtn(e){e.preventDefault();var _e$target$elements=e.target.elements,userIDInp=_e$target$elements.userIDInp,passwordInp=_e$target$elements.passwordInp;var userID=userIDInp.value;var password=passwordInp.value;//fetch to login user \nfetch('/api/users/login',{method:\"POST\",body:JSON.stringify({userID:userID,password:password}),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(data){if(data.success){localStorage.setItem(\"userID\",data.info[0].userInfo.userID);localStorage.setItem(\"userRole\",data.info[0].userInfo.userRole);if(data.info[0].userInfo.userRole==='parent')history.replace('/ParentHomePage');if(data.info[0].userInfo.userRole==='Vehicle Company Manager')history.replace('/VehicleCompanyManager');if(data.info[0].userInfo.userRole==='Transportation Manager')history.replace('/TransportationManager');if(data.info[0].userInfo.userRole==='School Administrator')history.replace('/SchoolAdministratorPage');if(data.info[0].userInfo.userRole==='Driver')history.replace('/DriverPage');if(data.info[0].userInfo.userRole==='Accompanying Person')history.replace('/AccompanyingPersonPage');}else{alert(\"user ID or password is incorrect Try again\");}});}function handleForgotPassword(){history.replace(\"/ForgotPassword\");}// function handleSignUp() {\n//     history.replace(\"/SignUp\");\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"logInContainer\",children:[\"/\",/*#__PURE__*/_jsxs(Container,{style:{border:\"solid #ffa500\",borderColor:\"#ffa500\",textAlign:\"center\",background:\"url('\".concat(process.env.PUBLIC_URL,\"/l.png')\")},children:[/*#__PURE__*/_jsx(Form.Text,{id:\"passwordHelpBlock\",muted:true,children:\"Sign In\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:process.env.PUBLIC_URL+\"childTransportLogo.png\",style:{width:\"50%\",height:\"50%\",border:\"0px solid white\",borderRadius:\"30px 30px 30px 30px\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleLogInBtn,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userIDInp\",style:{fontFamily:\"Roboto\",fontWeight:\"bold\",color:\"white\"},children:\"User ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"UserID\",id:\"userIDInp\",name:\"userIDInp\",required:true,style:{borderBottom:\" 2px solid orange\"}}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passwordInp\",style:{fontFamily:\"Roboto\",fontWeight:\"bold\",color:\"white\"},children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",id:\"passwordInp\",name:\"passwordInp\",required:true,style:{borderBottom:\" 2px solid orange\"}}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Button,{variant:\"warning\",size:\"lg\",block:true,id:\"LogInBtn\",type:\"submit\",onKeyUp:handleLogInBtn,children:\"LogIn\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"link\",id:\"ForgotPasswordBtn\",className:\"forgot-password\",onClick:handleForgotPassword,style:{textDecoration:\"underline\"},children:\"Forgot Password?\"})]})]});}export default LogIn;","map":{"version":3,"sources":["C:/Users/User/git/testGit/projectCT/client/src/view/components/pages/LogInPage/LogIn.jsx"],"names":["React","useState","Button","Form","Container","useHistory","LogIn","history","handleLogInBtn","e","preventDefault","target","elements","userIDInp","passwordInp","userID","value","password","fetch","method","body","JSON","stringify","headers","then","res","json","data","success","localStorage","setItem","info","userInfo","userRole","replace","alert","handleForgotPassword","border","borderColor","textAlign","background","process","env","PUBLIC_URL","width","height","borderRadius","fontFamily","fontWeight","color","borderBottom","textDecoration"],"mappings":"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","sourcesContent":["import React  from 'react';\r\nimport { useState} from 'react';\r\nimport \"./LogIn.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Button,Form,Container } from 'react-bootstrap';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction LogIn() {\r\n\r\n    const history = useHistory();\r\n\r\n    function handleLogInBtn(e) {\r\n        e.preventDefault();\r\n        const { userIDInp, passwordInp } = e.target.elements;\r\n        const userID = userIDInp.value;\r\n        const password = passwordInp.value;\r\n\r\n        //fetch to login user \r\n        fetch('/api/users/login', {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ userID, password }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                if (data.success) {\r\n                    localStorage.setItem(\"userID\", data.info[0].userInfo.userID);\r\n                    localStorage.setItem(\"userRole\", data.info[0].userInfo.userRole);\r\n                    if (data.info[0].userInfo.userRole === 'parent')\r\n                        history.replace('/ParentHomePage');\r\n\r\n                    if (data.info[0].userInfo.userRole === 'Vehicle Company Manager')\r\n                        history.replace('/VehicleCompanyManager');\r\n\r\n                    if (data.info[0].userInfo.userRole === 'Transportation Manager')\r\n                        history.replace('/TransportationManager');\r\n\r\n                    if (data.info[0].userInfo.userRole === 'School Administrator')\r\n                        history.replace('/SchoolAdministratorPage');\r\n\r\n                    if (data.info[0].userInfo.userRole === 'Driver')\r\n                        history.replace('/DriverPage');\r\n\r\n                    if (data.info[0].userInfo.userRole === 'Accompanying Person')\r\n                        history.replace('/AccompanyingPersonPage');\r\n\r\n\r\n                }\r\n                else {\r\n                   \r\n                     alert(\"user ID or password is incorrect Try again\");\r\n                }\r\n\r\n\r\n            });\r\n\r\n\r\n\r\n    }\r\n\r\n    function handleForgotPassword() {\r\n        history.replace(\"/ForgotPassword\");\r\n    }\r\n\r\n    // function handleSignUp() {\r\n    //     history.replace(\"/SignUp\");\r\n    // }\r\n    return (\r\n         <div className=\"logInContainer\">/\r\n            <Container style={{border:\"solid #ffa500\",borderColor:\"#ffa500\",textAlign:\"center\", background: `url('${process.env.PUBLIC_URL}/l.png')`}}>\r\n                <Form.Text id=\"passwordHelpBlock\" muted>\r\n                    Sign In\r\n                </Form.Text>\r\n            <img alt=\"\" src={process.env.PUBLIC_URL + \"childTransportLogo.png\"} style={{width:\"50%\",height:\"50%\",border:\"0px solid white\",borderRadius:\"30px 30px 30px 30px\"}}></img><br></br>\r\n\r\n            <Form onSubmit={handleLogInBtn}>\r\n            <br></br>\r\n                <Form.Group> \r\n                <label htmlFor=\"userIDInp\" style={{fontFamily: \"Roboto\", fontWeight:\"bold\",color:\"white\"}}>User ID:</label>\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"UserID\" id=\"userIDInp\" name=\"userIDInp\" required  style={{borderBottom:\" 2px solid orange\"}}></input><br></br>\r\n               </Form.Group>\r\n             \r\n                <Form.Group > \r\n                <label htmlFor=\"passwordInp\" style={{fontFamily: \"Roboto\", fontWeight:\"bold\" ,color:\"white\"}}>Password:</label>\r\n                <input type=\"password\" className=\"form-control\" placeholder=\"Password\" id=\"passwordInp\" name=\"passwordInp\" required style={{borderBottom:\" 2px solid orange\"}}></input><br></br>\r\n                </Form.Group>\r\n                <Button variant=\"warning\" size=\"lg\" block id=\"LogInBtn\" type=\"submit\" onKeyUp={handleLogInBtn}>LogIn</Button>\r\n            </Form>\r\n\r\n            <Button  variant=\"link\" id=\"ForgotPasswordBtn\" className=\"forgot-password\" onClick={handleForgotPassword} style={{ textDecoration: \"underline\"}}>Forgot Password?</Button>\r\n            {/* <p style={{color:\"white\"}} className=\"text-center\" >Don't have an account?<a id=\"SignUpBtn\" onClick={handleSignUp} style={{color:\"blue\",borderBottom:\"1px blue\"}}>Sign up</a></p> */}\r\n        </Container>\r\n        </div> \r\n      \r\n    )\r\n}\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}