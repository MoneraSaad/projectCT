{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\git\\\\childrenTransport\\\\childTransport\\\\ProjectB\\\\projectb\\\\src\\\\view\\\\components\\\\pages\\\\LogInPage\\\\LogIn.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport \"./LogIn.css\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction LogIn() {\n  _s();\n\n  const history = useHistory();\n\n  function handleLogInBtn(e) {\n    e.preventDefault();\n    const {\n      userNameInp,\n      passwordInp\n    } = e.target.elements;\n    const userName = userNameInp.value;\n    const password = passwordInp.value; //fetch to login user \n\n    fetch('/api/users/login', {\n      method: \"POST\",\n      body: JSON.stringify({\n        userName,\n        password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.success) {\n        console.log(data.info[0]);\n        console.log(data.info[0].active);\n        console.log(data.info[0].userInfo.userRole);\n        localStorage.setItem(\"userID\", data.info[0].userInfo.userID);\n        localStorage.setItem(\"userRole\", data.info[0].userInfo.userRole);\n        if (data.info[0].userInfo.userRole === 'parent') history.replace('/ParentHomePage');\n        if (data.info[0].userInfo.userRole === 'Vehicle Company Manager') history.replace('/VehicleCompanyManager');\n        if (data.info[0].userInfo.userRole === 'Transportation Manager') history.replace('/TransportationManager');\n        if (data.info[0].userInfo.userRole === 'School Administrator') history.replace('/SchoolAdministratorPage');\n        if (data.info[0].userInfo.userRole === 'Driver') history.replace('/DriverPage');\n        if (data.info[0].userInfo.userRole === 'Accompanying Person') history.replace('/AccompanyingPersonPage');\n      } else {\n        alert(\"Username or password is incorrect Try again\");\n      } // const{success[0],doc\n\n    });\n  }\n\n  function handleForgotPassword() {\n    history.replace(\"/ForgotPassword\");\n  }\n\n  function handleSignUp() {\n    history.replace(\"/SignUp\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"logInContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"LogIn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: process.env.PUBLIC_URL + \"childTransportLogo.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 80\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogInBtn,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"userName\",\n        children: \"User Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"User Name\",\n        id: \"userName\",\n        name: \"userNameInp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 102\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"password\",\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Password\",\n        id: \"password\",\n        name: \"passwordInp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 101\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"LogInBtn\",\n        type: \"submit\",\n        onKeyUp: handleLogInBtn,\n        children: \"LogIn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      id: \"ForgotPasswordBtn\",\n      onClick: handleForgotPassword,\n      children: \"Forgot Password?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        id: \"SignUpBtn\",\n        onClick: handleSignUp,\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LogIn, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["C:/Users/User/git/childrenTransport/childTransport/ProjectB/projectb/src/view/components/pages/LogInPage/LogIn.jsx"],"names":["React","useState","useEffect","useRef","Link","useHistory","LogIn","history","handleLogInBtn","e","preventDefault","userNameInp","passwordInp","target","elements","userName","value","password","fetch","method","body","JSON","stringify","headers","then","res","json","data","console","log","success","info","active","userInfo","userRole","localStorage","setItem","userID","replace","alert","handleForgotPassword","handleSignUp","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport \"./LogIn.css\";\r\nimport {\r\n    Link\r\n} from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction LogIn() {\r\n\r\n    const history = useHistory();\r\n\r\n    function handleLogInBtn(e) {\r\n\r\n        e.preventDefault();\r\n        const { userNameInp, passwordInp } = e.target.elements;\r\n        const userName = userNameInp.value;\r\n        const password = passwordInp.value;\r\n\r\n        //fetch to login user \r\n        fetch('/api/users/login', {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ userName, password }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                 console.log(data);\r\n                if (data.success) {\r\n                     console.log(data.info[0]);\r\n                     console.log(data.info[0].active);\r\n                     console.log(data.info[0].userInfo.userRole);\r\n                     localStorage.setItem(\"userID\", data.info[0].userInfo.userID);\r\n                     localStorage.setItem(\"userRole\", data.info[0].userInfo.userRole);\r\n                     if(data.info[0].userInfo.userRole==='parent')\r\n                     history.replace('/ParentHomePage');\r\n\r\n                     if(data.info[0].userInfo.userRole==='Vehicle Company Manager')\r\n                     history.replace('/VehicleCompanyManager');\r\n\r\n                     if(data.info[0].userInfo.userRole==='Transportation Manager')\r\n                     history.replace('/TransportationManager');\r\n\r\n                     if(data.info[0].userInfo.userRole==='School Administrator')\r\n                     history.replace('/SchoolAdministratorPage');\r\n\r\n                     if(data.info[0].userInfo.userRole==='Driver')\r\n                     history.replace('/DriverPage');\r\n                     \r\n                     if(data.info[0].userInfo.userRole==='Accompanying Person')\r\n                     history.replace('/AccompanyingPersonPage');\r\n                   \r\n          \r\n              \r\n                }\r\n                  else{\r\n                    alert(\"Username or password is incorrect Try again\")\r\n                  }\r\n          \r\n                  // const{success[0],doc\r\n                \r\n\r\n            });\r\n\r\n\r\n\r\n    }\r\n\r\n    function handleForgotPassword() {\r\n        history.replace(\"/ForgotPassword\");\r\n    }\r\n\r\n    function handleSignUp(){\r\n        history.replace(\"/SignUp\");\r\n    }\r\n    return (\r\n        <div className=\"logInContainer\">\r\n            <h4>LogIn</h4>\r\n            <img src={process.env.PUBLIC_URL + \"childTransportLogo.png\"}></img><br></br>\r\n\r\n            <form onSubmit={handleLogInBtn}>\r\n                <label for=\"userName\">User Name:</label>\r\n                <input type=\"text\" placeholder=\"User Name\" id=\"userName\" name=\"userNameInp\" ></input><br></br>\r\n                <label for=\"password\">Password:</label>\r\n                <input type=\"text\" placeholder=\"Password\" id=\"password\" name=\"passwordInp\" ></input><br></br>\r\n                <button id=\"LogInBtn\" type=\"submit\" onKeyUp={handleLogInBtn}>LogIn</button>\r\n            </form>\r\n\r\n            <button type=\"button\" id=\"ForgotPasswordBtn\" onClick={handleForgotPassword}>Forgot Password?</button>\r\n            <p>Don't have an account?<button type=\"button\" id=\"SignUpBtn\" onClick={handleSignUp} >Sign up</button></p>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}