{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\ProjectB\\\\projectb\\\\src\\\\view\\\\components\\\\pages\\\\LogInPage\\\\LogIn.jsx\";\nimport React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport \"./LogIn.css\";\n\nfunction LogIn() {\n  function handleLogInBtn(e) {\n    e.preventDefault();\n    const {\n      userEmailInp,\n      userPswInp\n    } = e.target.elements;\n    const email = userEmailInp.value;\n    const password = userPswInp.value; //fetch to login user \n\n    fetch('/api/users/login', {\n      method: \"POST\",\n      body: JSON.stringify({\n        email,\n        password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      let token = Cookies.get('loginToken');\n\n      if (token != null) {\n        const decoded = jwt.decode(token);\n        if (decoded.role === 'Admin') history.replace(\"Admin\");\n        if (decoded.role === \"QA manager\") history.replace(\"/status\");\n        if (decoded.role === \"TOP manager\") history.replace(\"/analysis\");\n      } else alert(\"Username or password is incorrect\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"logInContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"LogIn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: process.env.PUBLIC_URL + \"childTransportLogo.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 80\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"userName\",\n      children: \"User Name:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"User Name\",\n      id: \"userName\",\n      name: \"userName\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 94\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"password\",\n      children: \"Password:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Password\",\n      id: \"password\",\n      name: \"password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 93\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"www.google.com\",\n        children: \"Forgot Password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), \"  \", /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"LogInBtn\",\n      type: \"button\",\n      onClick: handleLogInBtn,\n      children: \"LogIn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"www.google.com\",\n        children: \"Forgot Password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["C:/Users/User/Desktop/ProjectB/projectb/src/view/components/pages/LogInPage/LogIn.jsx"],"names":["React","useState","useEffect","useRef","LogIn","handleLogInBtn","e","preventDefault","userEmailInp","userPswInp","target","elements","email","value","password","fetch","method","body","JSON","stringify","headers","then","res","json","data","token","Cookies","get","decoded","jwt","decode","role","history","replace","alert","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport \"./LogIn.css\";\r\n\r\n\r\nfunction LogIn(){\r\n\r\n\r\n    function handleLogInBtn(e) {\r\n        e.preventDefault();\r\n\r\n        const { userEmailInp, userPswInp } = e.target.elements;\r\n        const email = userEmailInp.value;\r\n        const password = userPswInp.value;\r\n\r\n        //fetch to login user \r\n        fetch('/api/users/login', {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ email, password }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                let token = Cookies.get('loginToken');\r\n                if(token!=null){\r\n                    const decoded = jwt.decode(token);\r\n                    if(decoded.role==='Admin')\r\n                    history.replace(\"Admin\")\r\n                    if(decoded.role===\"QA manager\")\r\n                    history.replace(\"/status\")\r\n                    if(decoded.role===\"TOP manager\")\r\n                    history.replace(\"/analysis\")\r\n                }\r\n                else \r\n                alert(\"Username or password is incorrect\")\r\n\r\n            });\r\n    }\r\n    return(\r\n        <div className=\"logInContainer\">\r\n            <h4>LogIn</h4>\r\n            <img src={process.env.PUBLIC_URL + \"childTransportLogo.png\"}></img><br></br>\r\n            <label for=\"userName\">User Name:</label>\r\n            <input type=\"text\" placeholder=\"User Name\" id=\"userName\" name=\"userName\"></input><br></br>\r\n            <label for=\"password\">Password:</label>\r\n            <input type=\"text\" placeholder=\"Password\" id=\"password\" name=\"password\"></input><br></br>\r\n            <p><a href=\"www.google.com\">Forgot Password?</a></p>  {/*onclick={} */}\r\n            <button id=\"LogInBtn\" type=\"button\" onClick={handleLogInBtn}>LogIn</button>\r\n            <p>Don't have an account?<a href=\"www.google.com\">Forgot Password?</a></p>\r\n\r\n        </div>\r\n            )\r\n}\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}