{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\git\\\\testGit\\\\projectCT\\\\client\\\\src\\\\view\\\\components\\\\pages\\\\SettingsPageUsers\\\\SettingsPageUsers.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport \"./SettingsPageUsers.css\";\nimport { useHistory } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Container, Row, Col, Navbar, Nav, Form } from 'react-bootstrap';\nlet personalInformation = {\n  userName: \"\",\n  userLastName: \"\",\n  userID: \"\",\n  userEmail: \"\",\n  phoneNumber: \"\",\n  userRole: \"\",\n  password: \"\",\n  city: \"\",\n  streetNum: \"\",\n  gender: \"\"\n};\n\nfunction SettingsPageUsers() {\n  _s();\n\n  let history = useHistory();\n  let userID = localStorage.getItem(\"userID\");\n  const [personalInfo, setpersonalInfo] = useState([]);\n  useEffect(() => {\n    fetch('/api/users/getMyInfo', {\n      method: 'POST',\n      body: JSON.stringify({\n        userID\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      if (data.success) {\n        setpersonalInfo(data.info[0].userInfo);\n      } else {\n        alert(\"couldn't get personal information\");\n        setpersonalInfo([]);\n      }\n    });\n  }, []);\n  /*     personalInformation.phoneNumber=personalInfo.phoneNumber;\r\n       personalInformation.city=personalInfo.city;\r\n       personalInformation.streetNum=personalInfo.streetNum;\r\n       personalInformation.userEmail=personalInfo.userEmail;\r\n       personalInformation.password=personalInfo.password; */\n\n  personalInformation.userName = personalInfo.userName;\n  personalInformation.userLastName = personalInfo.userLastName;\n  personalInformation.userID = personalInfo.userID;\n  personalInformation.userRole = personalInfo.userRole;\n  personalInformation.gender = personalInfo.gender;\n\n  function onPhoneChange(e) {\n    if (e.target.value.length > 0) {\n      let value1 = e.target.value;\n      personalInformation.phoneNumber = value1;\n    } else {\n      personalInformation.phoneNumber = personalInfo.phoneNumber;\n      alert(\"enter valid phone number with 10 digits\");\n    }\n  }\n\n  function onCityChange(e) {\n    if (e.target.value.length > 0) {\n      let value2 = e.target.value;\n      personalInformation.city = value2;\n    } else {\n      personalInformation.city = personalInfo.city;\n      alert(\"empty city name\");\n    }\n  }\n\n  function onHomeAddressChange(e) {\n    if (e.target.value.length > 0) {\n      let value3 = e.target.value;\n      personalInformation.streetNum = value3;\n    } else {\n      personalInformation.streetNum = personalInfo.streetNum;\n      alert(\"empty Home Address\");\n    }\n  }\n\n  function onEmailChange(e) {\n    if (e.target.value.length > 0) {\n      let value4 = e.target.value;\n      personalInformation.userEmail = value4;\n    } else {\n      personalInformation.userEmail = personalInfo.userEmail;\n      alert(\"empty Email\");\n    }\n  }\n\n  function onPasswordChange(e) {\n    if (e.target.value.length > 0) {\n      let value5 = e.target.value;\n      personalInformation.password = value5;\n    } else {\n      personalInformation.password = personalInfo.password;\n      alert(\"empty Password\");\n    }\n  }\n\n  function handleEdit() {\n    if (personalInformation.phoneNumber.length === 0) {\n      personalInformation.phoneNumber = personalInfo.phoneNumber;\n    }\n\n    if (personalInformation.userEmail.length === 0) {\n      personalInformation.userEmail = personalInfo.userEmail;\n    }\n\n    if (personalInformation.password.length === 0) {\n      personalInformation.password = personalInfo.password;\n    }\n\n    if (personalInformation.city.length === 0) {\n      personalInformation.city = personalInfo.city;\n    }\n\n    if (personalInformation.streetNum.length === 0) {\n      personalInformation.streetNum = personalInfo.streetNum;\n    }\n\n    fetch('/api/users/editPersonalInfoUsers', {\n      method: 'POST',\n      body: JSON.stringify({\n        userID,\n        personalInformation\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      if (data.success) {\n        setpersonalInfo(personalInformation);\n        alert(\"Successfully updated You're Personal Information\");\n      } else {\n        alert(\"can't update your personal Information\");\n      }\n    });\n  }\n\n  function handleLogOut() {\n    //fetch to logout user \n    fetch('/api/users/logout', {\n      method: \"POST\",\n      body: JSON.stringify({\n        userID\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      if (data.success) {\n        localStorage.clear();\n        history.replace('/LogIn');\n      } else {\n        alert(\"can't log out\");\n      }\n    });\n  }\n\n  function handleHomePage() {\n    let role = localStorage.getItem(\"userRole\");\n\n    if (role === 'Vehicle Company Manager') {\n      history.replace('/VehicleCompanyManager');\n    }\n\n    if (role === 'Transportation Manager') {\n      history.replace('/TransportationManager');\n    }\n\n    if (role === 'School Administrator') {\n      history.replace('/SchoolAdministratorPage');\n    }\n\n    if (role === 'Driver') {\n      history.replace('/DriverPage');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      style: {\n        border: \"solid #ffa500\",\n        borderColor: \"#ffa500\",\n        background: `url('${process.env.PUBLIC_URL}/l.png')`\n      },\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        className: \"mb-3\",\n        \"aria-label\": \"Toolbar with Button groups\",\n        children: /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"mr-auto\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n            href: \"#home\",\n            onClick: handleHomePage,\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n            href: \"#LogOut\",\n            onClick: handleLogOut,\n            children: \"Log Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontWeight: \"bold\",\n          color: \"#ffa500\",\n          fontSize: \"30px\",\n          fontFamily: \"Times New Roman\",\n          textAlign: \"center\"\n        },\n        children: \"Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n        id: \"passwordHelpBlock\",\n        muted: true,\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"You can update the following feilds: city,phone number, Home Address ,Email,Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Row,\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"firstName\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"First Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            id: \"firstName\",\n            name: \"firstName\",\n            placeholder: personalInfo.userName,\n            readOnly: true,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"lastName\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"Last Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"lastName\",\n            name: \"lastName\",\n            placeholder: personalInfo.userLastName,\n            readOnly: true,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 204\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Row,\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"ID\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"ID: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"ID\",\n            name: \"ID\",\n            placeholder: personalInfo.userID,\n            readOnly: true,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 186\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"phoneNumber\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"Phone Number: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"phoneNumber\",\n            name: \"phoneNumber\",\n            placeholder: personalInfo.phoneNumber,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            },\n            onChange: onPhoneChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 226\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Row,\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"userRole\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"Role: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"userRole\",\n            name: \"userRole\",\n            placeholder: personalInfo.userRole,\n            readOnly: true,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 200\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"city\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"City: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"city\",\n            name: \"city\",\n            placeholder: personalInfo.city,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            },\n            onChange: onCityChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 203\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Row,\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"streetNum\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"Home Address: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"streetNum\",\n            name: \"streetNum\",\n            placeholder: personalInfo.streetNum,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            },\n            onChange: onHomeAddressChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 225\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"gender\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"Gender: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"gender\",\n            name: \"gender\",\n            placeholder: personalInfo.gender,\n            readOnly: true,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 194\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Row,\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"email\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"Email: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            placeholder: personalInfo.userEmail,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            },\n            onChange: onEmailChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 224\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          htmlFor: \"password\",\n          style: {\n            fontFamily: \"Roboto\",\n            fontWeight: \"bold\",\n            color: \"white\"\n          },\n          children: \"Password: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"form-control\",\n            id: \"password\",\n            name: \"password\",\n            type: \"text\",\n            placeholder: personalInfo.password,\n            style: {\n              borderBottom: \" 2px solid orange\"\n            },\n            onChange: onPasswordChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 231\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"warning\",\n        size: \"lg\",\n        block: true,\n        id: \"Edit\",\n        onClick: handleEdit,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SettingsPageUsers, \"TAF8wuw6P4MCPkjf8geFmiOfaFc=\", false, function () {\n  return [useHistory];\n});\n\n_c = SettingsPageUsers;\nexport default SettingsPageUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"SettingsPageUsers\");","map":{"version":3,"sources":["C:/Users/User/git/testGit/projectCT/client/src/view/components/pages/SettingsPageUsers/SettingsPageUsers.jsx"],"names":["React","useState","useEffect","useHistory","Button","Container","Row","Col","Navbar","Nav","Form","personalInformation","userName","userLastName","userID","userEmail","phoneNumber","userRole","password","city","streetNum","gender","SettingsPageUsers","history","localStorage","getItem","personalInfo","setpersonalInfo","fetch","method","body","JSON","stringify","headers","then","res","json","data","success","info","userInfo","alert","onPhoneChange","e","target","value","length","value1","onCityChange","value2","onHomeAddressChange","value3","onEmailChange","value4","onPasswordChange","value5","handleEdit","handleLogOut","clear","replace","handleHomePage","role","border","borderColor","background","process","env","PUBLIC_URL","fontWeight","color","fontSize","fontFamily","textAlign","borderBottom"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport \"./SettingsPageUsers.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Button, Container,Row, Col, Navbar,Nav, Form } from 'react-bootstrap';\r\nlet personalInformation = {\r\n    userName: \"\",\r\n    userLastName: \"\",\r\n    userID: \"\",\r\n    userEmail: \"\",\r\n    phoneNumber: \"\",\r\n    userRole: \"\",\r\n    password: \"\",\r\n    city: \"\",\r\n    streetNum: \"\",\r\n    gender: \"\",\r\n}\r\n\r\nfunction SettingsPageUsers() {\r\n    let history = useHistory();\r\n    let userID = localStorage.getItem(\"userID\");\r\n    const [personalInfo, setpersonalInfo] = useState([]);\r\n    useEffect(() => {\r\n        fetch('/api/users/getMyInfo', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ userID}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    setpersonalInfo(data.info[0].userInfo);\r\n                } else {\r\n                    alert(\"couldn't get personal information\");\r\n                    setpersonalInfo([]);\r\n                }\r\n\r\n\r\n            })\r\n    }, []);\r\n\r\n    /*     personalInformation.phoneNumber=personalInfo.phoneNumber;\r\n         personalInformation.city=personalInfo.city;\r\n         personalInformation.streetNum=personalInfo.streetNum;\r\n         personalInformation.userEmail=personalInfo.userEmail;\r\n         personalInformation.password=personalInfo.password; */\r\n\r\n    personalInformation.userName = personalInfo.userName;\r\n    personalInformation.userLastName = personalInfo.userLastName;\r\n    personalInformation.userID = personalInfo.userID;\r\n    personalInformation.userRole = personalInfo.userRole;\r\n    personalInformation.gender = personalInfo.gender;\r\n\r\n\r\n    function onPhoneChange(e) {\r\n        if (e.target.value.length > 0) {\r\n            let value1 = e.target.value;\r\n            personalInformation.phoneNumber = value1;\r\n        } else {\r\n            personalInformation.phoneNumber = personalInfo.phoneNumber;\r\n            alert(\"enter valid phone number with 10 digits\");\r\n        }\r\n    }\r\n\r\n    function onCityChange(e) {\r\n\r\n        if (e.target.value.length > 0) {\r\n            let value2 = e.target.value;\r\n            personalInformation.city = value2;\r\n        } else {\r\n            personalInformation.city = personalInfo.city;\r\n            alert(\"empty city name\");\r\n        }\r\n    }\r\n\r\n    function onHomeAddressChange(e) {\r\n\r\n        if (e.target.value.length > 0) {\r\n            let value3 = e.target.value;\r\n            personalInformation.streetNum = value3;\r\n        } else {\r\n            personalInformation.streetNum = personalInfo.streetNum;\r\n            alert(\"empty Home Address\");\r\n        }\r\n    }\r\n\r\n    function onEmailChange(e) {\r\n\r\n        if (e.target.value.length > 0) {\r\n            let value4 = e.target.value;\r\n            personalInformation.userEmail = value4;\r\n        } else {\r\n            personalInformation.userEmail = personalInfo.userEmail;\r\n            alert(\"empty Email\");\r\n        }\r\n    }\r\n\r\n    function onPasswordChange(e) {\r\n\r\n        if (e.target.value.length > 0) {\r\n            let value5 = e.target.value;\r\n            personalInformation.password = value5;\r\n        } else {\r\n            personalInformation.password = personalInfo.password;\r\n            alert(\"empty Password\");\r\n        }\r\n    }\r\n\r\n\r\n    function handleEdit() {\r\n\r\n        if (personalInformation.phoneNumber.length === 0) {\r\n            personalInformation.phoneNumber = personalInfo.phoneNumber;\r\n        }\r\n        if (personalInformation.userEmail.length === 0) {\r\n            personalInformation.userEmail = personalInfo.userEmail;\r\n        }\r\n        if (personalInformation.password.length === 0) {\r\n            personalInformation.password = personalInfo.password;\r\n        }\r\n        if (personalInformation.city.length === 0) {\r\n            personalInformation.city = personalInfo.city;\r\n        }\r\n        if (personalInformation.streetNum.length === 0) {\r\n            personalInformation.streetNum = personalInfo.streetNum;\r\n        }\r\n\r\n        fetch('/api/users/editPersonalInfoUsers', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ userID, personalInformation }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    setpersonalInfo(personalInformation);\r\n                    alert(\"Successfully updated You're Personal Information\");\r\n\r\n                } else {\r\n                    alert(\"can't update your personal Information\");\r\n                }\r\n            })\r\n    }\r\n    function handleLogOut() {\r\n\r\n        //fetch to logout user \r\n        fetch('/api/users/logout', {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ userID }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                if (data.success) {\r\n                    localStorage.clear();\r\n                    history.replace('/LogIn');\r\n                }\r\n                else {\r\n\r\n                    alert(\"can't log out\");\r\n                }\r\n            });\r\n    }\r\n\r\n    function handleHomePage(){\r\n        let role = localStorage.getItem(\"userRole\");\r\n        if(role==='Vehicle Company Manager'){\r\n            history.replace('/VehicleCompanyManager');\r\n        }\r\n        if(role==='Transportation Manager'){\r\n            history.replace('/TransportationManager');\r\n        }\r\n        if(role==='School Administrator'){\r\n            history.replace('/SchoolAdministratorPage');\r\n        }\r\n        if(role==='Driver'){\r\n            history.replace('/DriverPage');\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div>\r\n\r\n            <Container style={{ border: \"solid #ffa500\", borderColor: \"#ffa500\", background: `url('${process.env.PUBLIC_URL}/l.png')` }}>\r\n                <Navbar className=\"mb-3\" aria-label=\"Toolbar with Button groups\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"#home\" onClick={handleHomePage}>Home</Nav.Link>\r\n                        <Nav.Link href=\"#LogOut\" onClick={handleLogOut}>Log Out</Nav.Link>\r\n                    </Nav>\r\n                </Navbar>\r\n                <h1 style={{ fontWeight: \"bold\", color: \"#ffa500\", fontSize: \"30px\", fontFamily: \"Times New Roman\", textAlign: \"center\" }}>Settings</h1>\r\n                <br></br>\r\n                <Form.Text id=\"passwordHelpBlock\" muted style={{ textAlign: \"center\" }}>\r\n                    You can update the following feilds: city,phone number, Home Address ,Email,Password\r\n            </Form.Text>\r\n                <br></br>\r\n                <br></br>\r\n                <Form.Group as={Row} >\r\n\r\n                    <Form.Label column sm=\"2\" htmlFor=\"firstName\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}  >First Name: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control id=\"firstName\" name=\"firstName\" placeholder={personalInfo.userName} readOnly style={{ borderBottom: \" 2px solid orange\" }} ></Form.Control>\r\n                    </Col>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"lastName\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>Last Name: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"lastName\" name=\"lastName\" placeholder={personalInfo.userLastName} readOnly style={{ borderBottom: \" 2px solid orange\" }}></Form.Control><br></br>\r\n                    </Col>\r\n\r\n                </Form.Group>\r\n\r\n\r\n\r\n                <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"ID\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>ID: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"ID\" name=\"ID\" placeholder={personalInfo.userID} readOnly style={{ borderBottom: \" 2px solid orange\" }}></Form.Control><br></br>\r\n                    </Col>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"phoneNumber\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }} >Phone Number: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"phoneNumber\" name=\"phoneNumber\" placeholder={personalInfo.phoneNumber} style={{ borderBottom: \" 2px solid orange\" }} onChange={onPhoneChange} ></Form.Control><br></br>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"userRole\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>Role: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"userRole\" name=\"userRole\" placeholder={personalInfo.userRole} readOnly style={{ borderBottom: \" 2px solid orange\" }}></Form.Control><br></br>\r\n                    </Col>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"city\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>City: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"city\" name=\"city\" placeholder={personalInfo.city} style={{ borderBottom: \" 2px solid orange\" }} onChange={onCityChange}></Form.Control><br></br>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"streetNum\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>Home Address: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"streetNum\" name=\"streetNum\" placeholder={personalInfo.streetNum} style={{ borderBottom: \" 2px solid orange\" }} onChange={onHomeAddressChange}></Form.Control><br></br>\r\n                    </Col>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"gender\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>Gender: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"gender\" name=\"gender\" placeholder={personalInfo.gender} readOnly style={{ borderBottom: \" 2px solid orange\" }}></Form.Control><br></br>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"email\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>Email: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" type=\"email\" id=\"email\" name=\"email\" placeholder={personalInfo.userEmail} style={{ borderBottom: \" 2px solid orange\" }} onChange={onEmailChange}></Form.Control><br></br>\r\n                    </Col>\r\n                    <Form.Label column sm=\"2\" htmlFor=\"password\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>Password: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"password\" name=\"password\" type=\"text\" placeholder={personalInfo.password} style={{ borderBottom: \" 2px solid orange\" }} onChange={onPasswordChange}></Form.Control><br></br>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                {/*               <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\" for=\"confirmPassword\" style={{ fontFamily: \"Roboto\", fontWeight: \"bold\", color: \"white\" }}>Confirm Password: </Form.Label>\r\n                    <Col sm=\"4\">\r\n                        <Form.Control className=\"form-control\" id=\"confirmPassword\" name=\"confirmPassword\" placeholder={personalInfo.password} style={{ borderBottom: \" 2px solid orange\" }}></Form.Control><br></br>\r\n                    </Col>\r\n                </Form.Group> */}\r\n\r\n                <Button variant=\"warning\" size=\"lg\" block id=\"Edit\" onClick={handleEdit}>Edit</Button>\r\n\r\n\r\n            </Container>\r\n\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default SettingsPageUsers;"]},"metadata":{},"sourceType":"module"}